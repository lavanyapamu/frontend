<div class="dashboard-header">
  <h5>
    Welcome, {{ user()?.full_name | titlecase }}
  </h5>
  <!-- <p class="p">Here, you can fide your recent artworks and orders</p> -->
</div>

<div class="stats-grid">
  <div class="stat-card blue">
    <i class="fa-solid fa-palette"></i>
    <h3>Total Artworks</h3>
    <div class="stat-number">{{ artworks.length }}</div>
  </div>

  <div class="stat-card red">
    <i class="fas fa-clock"></i>
    <h3>Pending Orders</h3>
    <div class="stat-number">{{ pendingOrders }}</div>
  </div>

  <div class="stat-card purple">
    <i class="fas fa-shopping-cart"></i>
    <h3>Total Orders</h3>
    <div class="stat-number">{{ totalOrders }}</div>
  </div>

  <div class="stat-card gray">
    <i class="fa-solid fa-money-bill"></i>
    <h3>Revenue</h3>
    <div class="stat-number">{{ revenue }}</div>
  </div>

</div>



<section class="artworks-section">
  <div class="section-header">
    <h2>Recent Artworks</h2>
  </div>

  <!-- Loading message -->
  <div *ngIf="loading" class="loading-message">Loading artworks...</div>

  <!-- Error message -->
  <div *ngIf="!loading && errorMessage" class="error-message">{{ errorMessage }}</div>

  <!-- No artworks message -->
  <div *ngIf="!loading && !errorMessage && artworks.length === 0" class="no-artworks-message">
    No artworks found.
  </div>

  <!-- Artworks grid using Bootstrap -->
  <div *ngIf="!loading && !errorMessage && artworks.length > 0" class="row">
    <div class="col-12 col-sm-6 col-md-4 mb-4" *ngFor="let artwork of artworks" (click)="viewArtwork(artwork)">
      <div class="artwork-card h-100">

        <!-- Artwork Image -->
        <div class="artwork-image">
          <img [src]="imageURL + artwork.image" [alt]="artwork.title" />
        </div>

        <!-- Artwork Info -->
        <div class="artwork-info" (click)="viewArtwork(artwork)">
          <h4>{{ artwork.title }}</h4>
          <p class="artwork-category category-{{ artwork.category_name | lowercase }}">
            {{ artwork.category_name }}
          </p>
          <p class="artwork-quantity">Qty: {{ artwork.quantity }}</p>
          <p class="artwork-description">{{ artwork.description }}</p>

          <!-- Footer with price and buttons -->
          <div class="artwork-footer">
            <span class="artwork-price">{{ artwork.price }}</span>
            <div class="action-icons">
              <button class="icon-btn edit-btn" (click)="editArtwork(artwork.artwork_id); $event.stopPropagation()" title="Edit">
                <i class="fas fa-edit"></i>
              </button>
              <button class="icon-btn delete-btn" (click)="deleteArtwork(artwork.artwork_id); $event.stopPropagation()" title="Delete">
                <i class="fas fa-trash-alt"></i>
              </button>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>





<section class="orders-section">
  <div class="recent-orders">
    <h3>Recent Orders</h3>
    <table>
      <thead>
        <tr>
          <th>Order ID</th>
          <th>Artwork</th>
          <th>Customer</th>
          <th>Quantity</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let order of recentOrders">
          <td>{{ order.order_id }}</td>
          <td>{{ order.artwork_titles}}</td>
          <td>{{ order.user_name}}</td>
          <td>{{ order.quantity }}</td>
          <td>{{ order.status }}</td>
        </tr>
      </tbody>
    </table>
  </div>

</section>
<!-- </div> -->
<!-- </main> -->
<!-- </div> -->